---
description: List all cyphers or export a specific cypher to markdown
argument-hint: [--export <cypher-id>]
allowed-tools: Bash, Read, Write, Glob
---

<!--
Usage:
  /cypher:list                    # List all cyphers
  /cypher:list --export latest    # Export the most recent cypher to markdown
  /cypher:list --export <id>      # Export specific cypher by filename
-->

# AI Cypher List

## Instructions

### 1. List All Cyphers

Find all cypher files:

```bash
ls -la cyphers/*.json 2>/dev/null | head -20
```

Display as formatted table:

```
=== AI Cypher History ===

| # | Date       | Topic                              | Crew              | Status    |
|---|------------|------------------------------------|-------------------|-----------|
| 1 | 2026-02-06 | Monolith vs Microservices          | claude, gpt, ollama | completed |
| 2 | 2026-02-05 | REST vs GraphQL                    | claude, codex, zai | completed |
| 3 | 2026-02-04 | Best testing strategy              | claude, gpt       | in-progress |

Total: 3 cyphers

Commands:
  /cypher:list --export latest    # Export most recent
  /cypher:list --export 1         # Export by number
```

### 2. Export to Markdown

If `--export` flag provided:

**Parse the target:**
- `latest` â†’ most recent JSON file
- Number (1, 2, 3) â†’ corresponding file from list
- Filename â†’ direct match

**Read the JSON file and convert to Markdown:**

1. Read the JSON:
```bash
cat cyphers/<filename>.json
```

2. Parse and format using the Markdown Template (from cypher:start.md)

3. Save to same directory with .md extension:
```bash
# Save as markdown
cyphers/<filename>.md
```

4. Confirm:
```
âœ“ Exported: cyphers/2026-02-06-monolith-vs-microservices.md

View with:
  cat cyphers/2026-02-06-monolith-vs-microservices.md
  # or open in your editor
```

### 3. Handle Empty State

If no cyphers exist:

```
=== AI Cypher History ===

No cyphers found yet.

Start your first cypher:
  /cypher:start "Your topic here"
```

## Markdown Export Format

Use the same template from cypher:start.md:

```markdown
---
title: "[Topic from JSON]"
date: [startedAt from JSON]
format: [format from JSON]
rounds: [rounds from JSON]
mc: [mc from JSON]
crew: [crew array from JSON]
status: [completed if conclusion exists, else in-progress]
consensus: [from validation if exists]
---

# AI Cypher: [Topic]

> **Format**: ... | **Rounds**: ... | **MC**: ...
> **Crew**: ...
> **Date**: ...

---

[Convert transcript array to formatted rounds]

---

## Conclusion

> [conclusion from JSON]

---

*Generated by AI Cypher*
```

## JSON to Markdown Conversion

The transcript array in JSON looks like:
```json
{
  "transcript": [
    {"round": 1, "model": "claude", "content": "..."},
    {"round": 1, "model": "gpt", "content": "..."},
    {"round": 2, "model": "claude", "content": "..."},
    ...
  ]
}
```

Convert to:
```markdown
## Round 1: Opening Bars

### ðŸ”µ Claude
[content]

### ðŸŸ¢ GPT
[content]

## Round 2: Call and Response
...
```

Model emoji mapping:
- claude â†’ ðŸ”µ
- gpt â†’ ðŸŸ¢
- ollama â†’ ðŸŸ 
- gemini â†’ ðŸŸ£
- codex â†’ ðŸŸ¡
- zai â†’ âšª
- zai-free â†’ âšª
